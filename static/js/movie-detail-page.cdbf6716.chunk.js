(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{34:function(t,e,n){"use strict";var r=n(40),c=n.n(r),a="6ac85d37fc5933a9e58505b5650ac08b",o="https://api.themoviedb.org/3";e.a={fetchPopular:function(){return c.a.get("".concat(o,"/trending/all/day?api_key=").concat(a)).then((function(t){return t.data.results}))},fetchMovieByQuery:function(t){return c.a.get("".concat(o,"/search/movie?api_key=").concat(a,"&query=").concat(t)).then((function(t){return t.data.results}))},fetchMovieDetails:function(t){return c.a.get("".concat(o,"/movie/").concat(t,"?api_key=").concat(a,"&language=en-US")).then((function(t){return t.data}))},fetchMovieCast:function(t){return c.a.get("".concat(o,"/movie/").concat(t,"/credits?api_key=").concat(a,"&language=en-US")).then((function(t){return t.data}))},fetchMovieReviews:function(t){return c.a.get("".concat(o,"/movie/").concat(t,"/reviews?api_key=").concat(a,"&language=en-US&page=1")).then((function(t){return t.data}))}}},67:function(t,e,n){t.exports={CastList:"Cast_CastList__f64mt",Container:"Cast_Container__qSfG9"}},68:function(t,e,n){t.exports={Container:"Reviews_Container__1zwot"}},69:function(t,e,n){t.exports={Container:"MovieDetailsPage_Container__28WPW",Button:"MovieDetailsPage_Button__2sM0f"}},74:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}n.r(e);var a=n(35),o=n(36),i=n(38),s=n(37),u=n(0),l=n(9),h=n(2),p=n(67),j=n.n(p),f=n(34),b=n(1),v=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={actors:[],error:null},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.movieId;f.a.fetchMovieCast(e).then((function(e){return t.setState({actors:e.cast})})).catch((function(e){return t.setState({error:e})}))}},{key:"render",value:function(){var t=this.state.actors;return Object(b.jsxs)(b.Fragment,{children:[!t||0===t.length&&Object(b.jsx)("p",{children:"Sorry, no cast found..."}),t&&Object(b.jsx)("ul",{className:j.a.CastList,children:t.map((function(t){return Object(b.jsxs)("li",{children:[t.profile_path&&Object(b.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t.profile_path),alt:t.name}),Object(b.jsx)("p",{children:t.name}),Object(b.jsxs)("p",{children:["Character: ",t.character]})]},t.id)}))})]})}}]),n}(u.Component),d=n(68),O=n.n(d),m=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={reviews:[],error:null},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.movieId;f.a.fetchMovieReviews(e).then((function(e){return t.setState({reviews:e.results})})).catch((function(e){return t.setState({error:e})}))}},{key:"render",value:function(){var t=this.state.reviews;return Object(b.jsxs)(b.Fragment,{children:[!t||0===t.length&&Object(b.jsx)("p",{children:"Sorry, there are no reviews yet..."}),t&&Object(b.jsx)("ul",{className:O.a.Container,children:t.map((function(t){return Object(b.jsxs)("li",{children:[Object(b.jsxs)("h4",{children:["Author: ",t.author]}),Object(b.jsx)("p",{children:t.content})]},t.id)}))})]})}}]),n}(u.Component),g=n(69),y=n.n(g),x=n(7),w=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={title:null,release_date:null,vote_average:null,poster_path:null,overview:null,genres:[],error:null,cameFrom:null},t.handleGoBack=function(){var e=t.props.history,n=t.state.cameFrom;n?e.push(n.from):e.push(x.a.home)},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.movieId;f.a.fetchMovieDetails(e).then((function(e){return t.setState(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e))})).catch((function(e){return t.setState({error:e})})),this.setState({cameFrom:this.props.location.state})}},{key:"render",value:function(){var t=this.state,e=t.title,n=t.overview,r=t.genres,c=t.poster_path,a=t.vote_average,o=t.release_date,i=this.props.match,s=i.url,u=i.path;return Object(b.jsxs)("div",{className:y.a.Container,children:[Object(b.jsx)("button",{type:"button",className:y.a.Button,onClick:this.handleGoBack,children:"Go back"}),Object(b.jsxs)("h1",{children:[e," (","".concat(o).substr(0,4),")"]}),Object(b.jsxs)("p",{children:["User Score: ",10*a," %"]}),c&&Object(b.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(c),alt:e}),Object(b.jsx)("h2",{children:"Overview"}),Object(b.jsx)("p",{children:n}),Object(b.jsx)("h3",{children:"Genres"}),Object(b.jsx)("ul",{children:r.map((function(t){return Object(b.jsx)("li",{children:t.name},t.id)}))}),Object(b.jsx)("p",{children:"Additional information"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(l.c,{to:"".concat(s,"/cast"),children:"Cast"})}),Object(b.jsx)("li",{children:Object(b.jsx)(l.c,{to:"".concat(s,"/reviews"),children:"Reviews"})})]}),Object(b.jsx)(h.a,{path:"".concat(u,"/cast"),component:v}),Object(b.jsx)(h.a,{path:"".concat(u,"/reviews"),component:m})]})}}]),n}(u.Component);e.default=w}}]);
//# sourceMappingURL=movie-detail-page.cdbf6716.chunk.js.map