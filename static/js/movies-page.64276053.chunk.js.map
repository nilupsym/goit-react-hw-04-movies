{"version":3,"sources":["services/Api.jsx","components/MoviesList/MoviesList.jsx","components/SearchBar/SearchBar.module.css","components/SearchBar/SearchBar.jsx","views/MoviesPage.jsx"],"names":["API_KEY","BASE_URL","fetchPopular","axios","get","then","response","data","results","fetchMovieByQuery","query","fetchMovieDetails","movieId","fetchMovieCast","fetchMovieReviews","withRouter","movies","location","map","id","title","name","to","pathname","routes","state","from","module","exports","SearchBar","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","className","s","SearchForm","onChange","SearchFormInput","type","placeholder","SearchFormButton","Component","MoviesPage","error","onChangeQuery","prevProps","prevState","a","history","Api","catch","push","search","length","MoviesList"],"mappings":"yIAAA,qBAEMA,EAAU,mCACVC,EAAW,+BAgCF,KAAEC,aA9BI,WACjB,OAAOC,IACFC,IADE,UACKH,EADL,qCAC0CD,IAC5CK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKC,YA2BTC,kBAxBL,SAACC,GACvB,OAAOP,IACFC,IADE,UACKH,EADL,iCACsCD,EADtC,kBACuDU,IACzDL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKC,YAqBUG,kBAlBxB,SAACC,GACvB,OAAOT,IACFC,IADE,UACKH,EADL,kBACuBW,EADvB,oBAC0CZ,EAD1C,oBAEFK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAekCM,eAZ9C,SAACD,GACpB,OAAOT,IACFC,IADE,UACKH,EADL,kBACuBW,EADvB,4BACkDZ,EADlD,oBAEFK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SASkDO,kBAN3D,SAACF,GACvB,OAAOT,IACFC,IADE,UACKH,EADL,kBACuBW,EADvB,4BACkDZ,EADlD,2BAEFK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,W,gCChCnC,gCAsBeQ,iBAlBI,SAAC,GAAwB,IAAvBC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,SACzB,OACI,6BACKD,EAAOE,KACJ,gBAAEC,EAAF,EAAEA,GAAIC,EAAN,EAAMA,MAAOC,EAAb,EAAaA,KAAb,OACI,6BACI,eAAC,IAAD,CAAMC,GAAI,CACNC,SAAS,GAAD,OAAKC,IAAOR,OAAZ,YAAsBG,GAC9BM,MAAO,CAAEC,KAAMT,IAFnB,UAGKI,EAAQD,MAJRD,Y,mBCR7BQ,EAAOC,QAAU,CAAC,WAAa,8BAA8B,iBAAmB,oCAAoC,gBAAkB,qC,mICoCvHC,E,4MAjCXJ,MAAQ,CACJf,MAAO,I,EAGXoB,aAAe,SAAAC,GACX,EAAKC,SAAS,CAAEtB,MAAOqB,EAAEE,cAAcC,S,EAG3CC,aAAe,SAAAJ,GACXA,EAAEK,iBACF,EAAKC,MAAMC,SAAS,EAAKb,MAAMf,OAC/B,EAAKsB,SAAS,CAAEtB,MAAO,M,4CAG3B,WACI,OACI,uBACI4B,SAAUC,KAAKJ,aACfK,UAAWC,IAAEC,WAFjB,UAII,uBACIC,SAAUJ,KAAKT,aACfU,UAAWC,IAAEG,gBACbC,KAAK,OACLX,MAAOK,KAAKd,MAAMf,MAClBoC,YAAY,kBAEhB,wBAAQD,KAAK,SAASL,UAAWC,IAAEM,0B,GA5B3BC,a,gBCElBC,E,4MACFxB,MAAQ,CACJf,MAAO,GACPM,OAAQ,GACRkC,MAAO,M,EAmBXC,cAAgB,SAAAzC,GACZ,EAAKsB,SAAS,CAAEtB,W,+FAjBpB,WAAyB0C,EAAWC,GAApC,4BAAAC,EAAA,yDACQD,EAAU3C,QAAU6B,KAAKd,MAAMf,MADvC,uBAEcA,EAAQ6B,KAAKd,MAAMf,MAFjC,EAGsC6B,KAAKF,MAA3BpB,EAHhB,EAGgBA,SAAUsC,EAH1B,EAG0BA,QAH1B,SAIcC,IACD/C,kBAAkBC,GAClBL,MAAK,SAAAG,GAAO,OAAI,EAAKwB,SAAS,CAAEhB,OAAQR,OACxCiD,OAAM,SAAAP,GAAK,OAAI,EAAKlB,SAAS,CAAEkB,aAP5C,OASQK,EAAQG,KAAK,CACTnC,SAAUN,EAASM,SACnBoC,OAAO,SAAD,OAAWjD,KAX7B,gD,6EAoBA,WAAU,IACEM,EAAWuB,KAAKd,MAAhBT,OAER,OACI,qCACI,cAAC,EAAD,CAAWsB,SAAUC,KAAKY,gBAEzBnC,EAAO4C,OAAS,GAAK,cAACC,EAAA,EAAD,CAAY7C,OAAQA,W,GAlCjCgC,aAwCVC","file":"static/js/movies-page.64276053.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst API_KEY = '6ac85d37fc5933a9e58505b5650ac08b';\r\nconst BASE_URL = 'https://api.themoviedb.org/3';\r\n\r\nconst fetchPopular = () => {\r\n    return axios\r\n        .get(`${BASE_URL}/trending/all/day?api_key=${API_KEY}`)\r\n        .then(response => response.data.results);\r\n};\r\n\r\nconst fetchMovieByQuery = (query) => {\r\n    return axios\r\n        .get(`${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`)\r\n        .then(response => response.data.results);\r\n};\r\n\r\nconst fetchMovieDetails = (movieId) => {\r\n    return axios\r\n        .get(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`)\r\n        .then(response => response.data);\r\n};\r\n\r\nconst fetchMovieCast = (movieId) => {\r\n    return axios\r\n        .get(`${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`)\r\n        .then(response => response.data);\r\n};\r\n\r\nconst fetchMovieReviews = (movieId) => {\r\n    return axios\r\n        .get(`${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`)\r\n        .then(response => response.data);\r\n};\r\n// eslint-disable-next-line\r\nexport default { fetchPopular, fetchMovieByQuery, fetchMovieDetails, fetchMovieCast, fetchMovieReviews};","import { Link, withRouter } from 'react-router-dom';\r\nimport routes from '../../routes';\r\n\r\n\r\nconst MoviesList = ({movies, location}) => {\r\n    return (\r\n        <ul>\r\n            {movies.map(\r\n                ({id, title, name}) => (\r\n                    <li key={id}>\r\n                        <Link to={{\r\n                            pathname: `${routes.movies}/${id}`,\r\n                            state: { from: location }\r\n                        }}>{ name }{ title }</Link>\r\n                    </li>\r\n                )\r\n            )}\r\n        </ul>\r\n\r\n    );\r\n}\r\n\r\nexport default withRouter(MoviesList);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchBar_SearchForm__Txd85\",\"SearchFormButton\":\"SearchBar_SearchFormButton__3JRKA\",\"SearchFormInput\":\"SearchBar_SearchFormInput__1ODvt\"};","import { Component } from 'react';\r\nimport s from './SearchBar.module.css';\r\n\r\nclass SearchBar extends Component {\r\n    state = {\r\n        query: '',\r\n    };\r\n\r\n    handleChange = e => {\r\n        this.setState({ query: e.currentTarget.value });\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.query);\r\n        this.setState({ query: '' });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form\r\n                onSubmit={this.handleSubmit}\r\n                className={s.SearchForm}>\r\n                \r\n                <input\r\n                    onChange={this.handleChange}\r\n                    className={s.SearchFormInput}\r\n                    type=\"text\"\r\n                    value={this.state.query}\r\n                    placeholder=\"Search movies\" />\r\n                \r\n                <button type=\"submit\" className={s.SearchFormButton} />\r\n\r\n            </form>\r\n        )\r\n    }\r\n}\r\nexport default SearchBar;","import { Component } from 'react';\r\nimport SearchBar from '../components/SearchBar/SearchBar';\r\nimport MoviesList from '../components/MoviesList/MoviesList';\r\nimport Api from '../services/Api';\r\n\r\nclass MoviesPage extends Component {\r\n    state = {\r\n        query: '',\r\n        movies: [],\r\n        error: null,\r\n    };\r\n    \r\n    async componentDidUpdate(prevProps, prevState) {\r\n        if (prevState.query !== this.state.query) {\r\n            const query = this.state.query;\r\n            const { location, history } = this.props;\r\n            await Api\r\n                .fetchMovieByQuery(query)\r\n                .then(results => this.setState({ movies: results }))\r\n                .catch(error => this.setState({ error }));\r\n            \r\n            history.push({\r\n                pathname: location.pathname,\r\n                search: `query=${query}`,\r\n            });\r\n        }\r\n    }\r\n\r\n    onChangeQuery = query => {\r\n        this.setState({ query, });\r\n    }\r\n\r\n    render() {\r\n        const { movies } = this.state;\r\n\r\n        return (\r\n            <>\r\n                <SearchBar onSubmit={this.onChangeQuery} />\r\n                \r\n                {movies.length > 0 && <MoviesList movies={movies} />}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MoviesPage;"],"sourceRoot":""}