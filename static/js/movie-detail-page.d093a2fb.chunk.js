(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{34:function(t,e,n){"use strict";var r=n(40),a=n.n(r),c="6ac85d37fc5933a9e58505b5650ac08b",o="https://api.themoviedb.org/3";e.a={fetchPopular:function(){return a.a.get("".concat(o,"/trending/all/day?api_key=").concat(c)).then((function(t){return t.data.results}))},fetchMovieByQuery:function(t){return a.a.get("".concat(o,"/search/movie?api_key=").concat(c,"&query=").concat(t)).then((function(t){return t.data.results}))},fetchMovieDetails:function(t){return a.a.get("".concat(o,"/movie/").concat(t,"?api_key=").concat(c,"&language=en-US")).then((function(t){return t.data}))},fetchMovieCast:function(t){return a.a.get("".concat(o,"/movie/").concat(t,"/credits?api_key=").concat(c,"&language=en-US")).then((function(t){return t.data}))},fetchMovieReviews:function(t){return a.a.get("".concat(o,"/movie/").concat(t,"/reviews?api_key=").concat(c,"&language=en-US&page=1")).then((function(t){return t.data}))}}},67:function(t,e,n){t.exports={CastList:"Cast_CastList__f64mt",Container:"Cast_Container__qSfG9"}},68:function(t,e,n){t.exports={Container:"Reviews_Container__1zwot"}},69:function(t,e,n){t.exports={Container:"MovieDetailsPage_Container__28WPW",Button:"MovieDetailsPage_Button__2sM0f"}},74:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}n.r(e);var c=n(35),o=n(36),i=n(38),s=n(37),u=n(0),l=n(9),h=n(2),p=n(67),j=n.n(p),f=n(34),v=n(1),b=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={actors:[],error:null},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.movieId;f.a.fetchMovieCast(e).then((function(e){return t.setState({actors:e.cast})})).catch((function(e){return t.setState({error:e})}))}},{key:"render",value:function(){var t=this.state.actors;return Object(v.jsx)("ul",{className:j.a.CastList,children:t.map((function(t){return Object(v.jsxs)("li",{children:[t.profile_path&&Object(v.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t.profile_path),alt:t.name}),Object(v.jsx)("p",{children:t.name}),Object(v.jsxs)("p",{children:["Character: ",t.character]})]},t.id)}))})}}]),n}(u.Component),d=n(68),O=n.n(d),m=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={reviews:[],error:null},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.movieId;f.a.fetchMovieReviews(e).then((function(e){return t.setState({reviews:e.results})})).catch((function(e){return t.setState({error:e})}))}},{key:"render",value:function(){var t=this.state.reviews;return Object(v.jsx)("ul",{className:O.a.Container,children:t.map((function(t){return Object(v.jsxs)("li",{children:[Object(v.jsxs)("h4",{children:["Author: ",t.author]}),Object(v.jsx)("p",{children:t.content})]},t.id)}))})}}]),n}(u.Component),g=n(69),y=n.n(g),w=n(7),x=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={title:null,release_date:null,vote_average:null,poster_path:null,overview:null,genres:[],error:null},t.handleGoBack=function(){var e=t.props,n=e.location,r=e.history;if(n.state&&n.state.from)return r.push(n.state.from);r.push(w.a.movies)},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.movieId;f.a.fetchMovieDetails(e).then((function(e){return t.setState(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e))})).catch((function(e){return t.setState({error:e})}))}},{key:"render",value:function(){var t=this.state,e=t.title,n=t.overview,r=t.genres,a=t.poster_path,c=t.vote_average,o=t.release_date,i=this.props.match,s=i.url,u=i.path;return Object(v.jsxs)("div",{className:y.a.Container,children:[Object(v.jsx)("button",{type:"button",className:y.a.Button,onClick:this.handleGoBack,children:"Go back"}),Object(v.jsxs)("h1",{children:[e," (","".concat(o).substr(0,4),")"]}),Object(v.jsxs)("p",{children:["User Score: ",10*c," %"]}),a&&Object(v.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(a),alt:e}),Object(v.jsx)("h2",{children:"Overview"}),Object(v.jsx)("p",{children:n}),Object(v.jsx)("h3",{children:"Genres"}),Object(v.jsx)("ul",{children:r.map((function(t){return Object(v.jsx)("li",{children:t.name},t.id)}))}),Object(v.jsx)("p",{children:"Additional information"}),Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsx)(l.c,{to:"".concat(s,"/cast"),children:"Cast"})}),Object(v.jsx)("li",{children:Object(v.jsx)(l.c,{to:"".concat(s,"/reviews"),children:"Reviews"})})]}),Object(v.jsx)(h.a,{path:"".concat(u,"/cast"),component:b}),Object(v.jsx)(h.a,{path:"".concat(u,"/reviews"),component:m})]})}}]),n}(u.Component);e.default=x}}]);
//# sourceMappingURL=movie-detail-page.d093a2fb.chunk.js.map